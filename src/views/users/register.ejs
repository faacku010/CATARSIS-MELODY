<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="/css/register.css">
  <title>Formulario Registro</title>
</head>

<body>

    <%- include('../partials/header.ejs') %>

    <main>

        <section class="form-register">

            <% if (locals.errors) { %>
                <% for( let oneError in errors) { %>
                    <p> <%= errors[oneError].msg %></p>
                <% } %>
            <% } %>

            <form action="/users/register/" method="POST" enctype="multipart/form-data">
                <label for="firstName">Nombre</label>
                <input 
                    class="controls <%= locals.errors && errors.firstName ? 'is-invalid' : null %>" 
                    type="text" 
                    name="firstName" 
                    id="firstName"
                    value="<%=locals.oldData ? oldData.firstName : null %>"
                    >
                <% if (locals.errors && errors.firstName) { %>
                    <div class="text-danger">
                        <p> <%= errors.firstName.msg %> </p>
                    </div>
                <% } %>

                <label for="lastName">Apellido</label>
                <input 
                    class="controls <%= locals.errors && errors.lastName ? 'is-invalid' : null %>" 
                    type="text"
                    id="lastName"                     
                    name="lastName" 
                    value="<%=locals.oldData ? oldData.lastName : null %>"
                    >
                <% if (locals.errors && errors.lastName) { %>
                    <div class="text-danger">
                        <p> <%= errors.lastName.msg %> </p>
                    </div>
                <% } %>

                <label for="password">Contraseña</label>
                <input 
                    class="controls <%= locals.errors && errors.password ? 'is-invalid' : null %>"
                    type="password" 
                    id="password" 
                    name="password"
                    value="<%=locals.oldData ? oldData.password : null %>"
                    >
                <% if (locals.errors && errors.password) { %>
                    <div class="text-danger">
                        <p> <%= errors.password.msg %> </p>
                    </div>
                <% } %>

                <label for="password">Repita Contraseña</label>
                <input 
                    class="controls <%= locals.errors && errors.password ? 'is-invalid' : null %>"
                    type="password" 
                    id="password" 
                    name="password2"
                    value="<%=locals.oldData ? oldData.password : null %>"
                    >  
                <% if (locals.errors && errors.password) { %>
                    <div class="text-danger">
                        <p> <%= errors.password.msg %> </p>
                    </div>
                <% } %>              

                <label for="email">Correo Electronico</label>
                <input 
                    class="controls <%= locals.errors && errors.email ? 'is-invalid' : null %>" 
                    type="text" 
                    id="email" 
                    name="email"
                    value="<%=locals.oldData ? oldData.email : null %>"
                    >
                <% if (locals.errors && errors.email) { %>
                    <div class="text-danger">
                        <p> <%= errors.email.msg %> </p>
                    </div>
                <% } %>

                <label for="email">Repita Correo Electronico</label>
                <input 
                    class="controls <%= locals.errors && errors.email ? 'is-invalid' : null %>"
                    type="text" 
                    id="email" 
                    name="email2"
                    value="<%=locals.oldData ? oldData.email : null %>"
                    >
                <% if (locals.errors && errors.email) { %>
                    <div class="text-danger">
                        <p> <%= errors.email.msg %> </p>
                    </div>
                <% } %>

                <input id="button-cargar" type="submit" value="Guardar">

            <p>Esta de acuerdo con  <a href="#">Terminos y Condiciones</a></p>
            <button class="botons" type="reset" value="cancelar">
            <button class="botons" type="submit" value="registrar">
            <p><a href="/users/login">¿Ya tienes una Cuenta?</a></p>

            
            </form>
        </section>
    </main>

    <%- include('../partials/footer.ejs') %>

</body>
